package org.contikios.contiki.collect;
import java.net.*;
import java.io.*;

public class MultiServerThread extends Thread {
    private Socket socket = null;

    public MultiServerThread(Socket socket) {
        super("TCPServerConnection");
        this.socket = socket;
    }

    public void run() {

        try (
            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);
            BufferedReader in = new BufferedReader(
                new InputStreamReader(
                    socket.getInputStream()));
        ) {
            System.out.println("Create new thread to handle new client...");
            String inputLine, outputLine;
            //KnockKnockProtocol kkp = new KnockKnockProtocol();
            //outputLine = kkp.processInput(null);
            //out.println(outputLine);
//            String fromUser;
//            BufferedReader stdIn =
//                                     new BufferedReader(new InputStreamReader(System.in));

            while ((inputLine = in.readLine()) != null) {
                //outputLine = kkp.processInput(inputLine);
                //System.out.println("From: " + socket + " receives: " + inputLine);
            	serialData(inputLine);
                //outputLine = inputLine.toUpperCase();
                //out.println(outputLine);
                //if (outputLine.equals("Bye"))
                  //  break;
//              fromUser = stdIn.readLine();
//              if (fromUser != null) {
//                System.out.println("From user: "+ fromUser);
//                out.println(fromUser);
//
//              }
            }
            socket.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
~                                